---
/* Porsche 956 – Collection Page */
import Main   from "../../../layouts/Main.astro";
import Nav    from "../../../components/Nav.astro";
import Footer from "../../../components/Footer.astro";
import Band   from "../../../components/Band.astro";
import Collection1 from "../../../components/Collection1.astro";

/* BASE_URL-safe helpers (GitHub Pages ready) */
const base   = import.meta.env.BASE_URL || "/";
const url    = (p = "/") => `${base}${String(p).replace(/^\/+/, "")}`;
const encode = (p = "/") => url(p).replace(/ /g, "%20");

/* Collage */
const collageImages = [
  { src: encode("/img/photography/porsche956/IMG_9490.jpg"), title: "One" },
  { src: encode("/img/photography/porsche956/IMG_9524.jpg"), title: "Two" },
  { src: encode("/img/photography/porsche956/IMG_9504.jpg"), title: "Three" },
  { src: encode("/img/photography/porsche956/IMG_9571.jpg"), title: "Four" },
  { src: encode("/img/photography/porsche956/IMG_9496.jpg"), title: "Five" },
  { src: encode("/img/photography/porsche956/IMG_9527.jpg"), title: "Six" },
  { src: encode("/img/photography/porsche956/IMG_9552.jpg"), title: "Seven" },
  { src: encode("/img/photography/porsche956/IMG_9536.jpg"), title: "Eight" },
  { src: encode("/img/photography/porsche956/IMG_9488.jpg"), title: "Nine" },
];

/* Page meta */
const hero = {
  head: "Porsche 956",
  description: "World Endurance Championship icon — photography collection and quick specs.",
  image: encode("/img/photography/porsche956/IMG_9504.jpg"),
};

/* Blurb used under the collage hero */
const info =
  "Porsche created the 956 for the World Endurance Championship in 1982. It pioneered a fuel-efficient 2.6-litre turbo engine, a fully synchronised five-speed gearbox, and an aluminium monocoque. With powerful ground-effect diffusers and the longest wheelbase of any Porsche race car of its time, the 956 dominated endurance racing through the 1980s, including a triple victory on debut at Le Mans.";
---

<Main head={hero.head} description={hero.description} image={hero.image}>
  <!-- Global Nav -->
  <Fragment slot="nav"><Nav /></Fragment>

  <!-- Cinematic band -->
  <Band
    title="Porsche 956"
    lead="Le Mans-bred legend — a study in speed, aero, and endurance."
    variant="dark"
    align="center"
    valign="center"
    bgImage={hero.image}
    overlay={0.35}
    height={320}
  />

  <!-- Back crumb -->
  <nav class="crumb container-narrow">
    <a href={url("/gallery/photography")} class="crumb__back" aria-label="Back to Photography">
      <span aria-hidden="true">←</span> Back to Photography
    </a>
  </nav>

  <!-- Collage + narrative -->
  <Collection1 images={collageImages} name="Porsche 956" info={info} />

  <!-- Quick specs -->
  <section class="container-narrow section">
    <div class="spec">
      <h3 class="spec__head">Technical Specifications</h3>
      <dl class="spec__grid">
        <div><dt>Model Year</dt><dd>1982</dd></div>
        <div><dt>Engine</dt><dd>6-cyl boxer, biturbo</dd></div>
        <div><dt>Displacement</dt><dd>2,649 cc</dd></div>
        <div><dt>Power</dt><dd>456 kW (620 PS)</dd></div>
        <div><dt>Top Speed</dt><dd>352 km/h</dd></div>
        <div><dt>Weight</dt><dd>840 kg</dd></div>
      </dl>
    </div>
  </section>

  <!-- Global Footer -->
  <Fragment slot="footer"><Footer /></Fragment>

  <style>
    .container-narrow{ max-width:1100px; margin:0 auto; padding:0 16px; }
    .section{ padding:1.5rem 0 2.25rem; }

    .crumb{ margin:1rem 0 .5rem; }
    .crumb__back{
      display:inline-flex; align-items:center; gap:.45rem;
      font-weight:800; color:var(--text-strong,#101418); text-decoration:none; opacity:.85;
    }
    .crumb__back:hover{ opacity:1; }

    /* Spec card */
    .spec{
      background:var(--bg-elev,#fff);
      border:1px solid var(--border-subtle,rgba(0,0,0,.08));
      border-radius:16px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      padding:1.2rem 1.25rem;
    }
    .spec__head{
      margin:.25rem 0 1rem;
      text-align:center;
      font-size:1.05rem;
      font-weight:900;
    }
    .spec__grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:.65rem 1rem;
      margin:0;
    }
    .spec__grid > div{
      display:grid; grid-template-columns: 1fr 1fr; gap:.6rem;
      padding:.55rem .6rem;
      background:var(--bg-soft,#f5f7f3);
      border:1px solid rgba(0,0,0,.05);
      border-radius:12px;
    }
    .spec__grid dt{ font-weight:800; color:var(--text-strong,#101418); }
    .spec__grid dd{ margin:0; color:var(--text-muted,#5c6670); font-weight:600; text-align:right; }
    @media (max-width:640px){
      .spec__grid{ grid-template-columns:1fr; }
      .spec__grid > div{ grid-template-columns: 1fr; }
      .spec__grid dd{ text-align:left; }
    }
  </style>
</Main>
