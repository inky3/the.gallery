---
import Main from "../../layouts/Main.astro";

/** Meta */
const hero = {
  head: "Good Health",
  description:
    "งานวิจัยและออกแบบ UX/UI เพื่อช่วยผู้ใช้ (กลุ่มผู้ป่วยเบาหวาน) เข้าถึงข้อมูลอาหารที่เข้าใจง่ายและนำไปใช้ได้จริง—หน้านี้สรุปภาพรวม กระบวนการวิจัย แนวคิดการออกแบบ และผลลัพธ์จากต้นแบบใน Figma (ยังไม่พัฒนาเป็นโค้ดจริง)"
};

/** Base-safe for GitHub Pages */
const base = import.meta.env.BASE_URL || "/";
const url  = (p = "/") => `${base}${String(p).replace(/^\/+/, "")}`;

/** External links (research PDF, slides, Figma) */
const links = {
  pdf: "https://drive.google.com/file/d/1HnlALmfTK6ntb2a2rtp_ST3bsKMY7YdE/view?usp=sharing",
  slides: "https://drive.google.com/file/d/12PMAxFaPCV67GCpzpDs6FtL1luHiIYoP/view?usp=sharing",
  figmaDesktop:
    "https://www.figma.com/proto/LmXawaOlg1a0YjpFD2dgxO/Good-Health-PC?node-id=2132-1484&t=qbRhSrqPoewXmOmL-1",
  figmaMobile:
    "https://www.figma.com/proto/fYKSdYY2OeLrp7tle23084/Untitled?node-id=58-912&t=Wf7hhptUifObVHl0-1",
};

/** Image paths (place your files in /public/img/project/goodhealth/) */
const img = {
  hero: url("/img/project/goodhealth/index.jpg"),          // ใส่ภาพหน้าปก/สรุป
  research: url("/img/project/goodhealth/plan.jpg"),   // ใส่ภาพสรุปอินไซต์/กราฟ
  design: url("/img/project/goodhealth/index-extened.jpg"),       // ใส่ภาพหน้าจอ Figma รวม
  feature1: url("/img/project/goodhealth/custom.jpg"),
  feature2: url("/img/project/goodhealth/menu-insstruction.jpg"),
  feature3: url("/img/project/goodhealth/fruit-info.jpg"),
};
---

<Main head={hero.head} description={hero.description}>
  <!-- Sticky sub-nav -->
  <nav class="section-nav d-none d-md-flex" aria-label="Section navigator">
    <a href="#overview" class="pill active">ภาพรวม</a>
    <a href="#research" class="pill">การวิจัย</a>
    <a href="#design" class="pill">การออกแบบ</a>
    <a href="#tools" class="pill">เครื่องมือ</a>
    <a href="#outcome" class="pill">ผลลัพธ์</a>
  </nav>

  <!-- Overview -->
  <section id="overview" class="container py-4 pb-1">
    <div class="row g-4 align-items-start">
      <div class="col-12 col-lg-7">
        <figure class="frame">
          <img src={img.hero} alt="Good Health — Overview" loading="lazy" decoding="async" />
        </figure>
      </div>
      <div class="col-12 col-lg-5">
        <h2 class="h4 mb-3">ภาพรวม (Overview)</h2>
        <p class="lead-sm">
          <strong>Good Health</strong> คือโปรเจควิจัยและออกแบบ UX/UI สำหรับเว็บไซต์ให้ความรู้ด้านโภชนาการ
          โดยเน้น “ผู้ใช้ที่ต้องควบคุมระดับน้ำตาล (ผู้ป่วยเบาหวาน)” เป็นหลัก เป้าหมายคือทำให้การเลือกเมนู
          และการปรุงอาหาร “เข้าใจง่าย ใช้จริงได้ และเข้าถึงข้อมูลสำคัญรวดเร็ว”
        </p>

        <div class="meta mt-3">
          <div class="meta-row"><span class="k">บทบาท</span><span class="v">UX Research • UX/UI Design • Prototype</span></div>
          <div class="meta-row"><span class="k">สถานะ</span><span class="v">ต้นแบบบน Figma (ยังไม่พัฒนาเป็นโค้ด)</span></div>
          <div class="meta-row"><span class="k">ขอบเขต</span><span class="v">หน้า Landing + ระบบเมนูอาหาร + ฟีเจอร์ช่วยตัดสินใจ</span></div>
          <div class="meta-row"><span class="k">ผู้ใช้เป้าหมาย</span><span class="v">วัยทำงาน 25–45 ปี ที่ต้องควบคุมระดับน้ำตาล</span></div>
        </div>

        <div class="mt-4 d-flex gap-2 flex-wrap">
          <a href={links.pdf} target="_blank" rel="noreferrer" class="btn-ghost">ดูเล่มวิจัย (PDF)</a>
          <a href={links.slides} target="_blank" rel="noreferrer" class="btn-ghost">ดูสไลด์นำเสนอ</a>
          <a href={links.figmaDesktop} target="_blank" rel="noreferrer" class="btn-cta">Figma (Desktop)</a>
          <a href={links.figmaMobile} target="_blank" rel="noreferrer" class="btn-cta">Figma (Mobile)</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Research -->
  <section id="research" class="container py-5">
    <div class="row g-4 align-items-center">
      <div class="col-12 col-lg-6 order-lg-2">
        <figure class="frame">
          <img src={img.research} alt="Good Health — Research" loading="lazy" decoding="async" />
        </figure>
      </div>
      <div class="col-12 col-lg-6 order-lg-1">
        <h3 class="h4 mb-2">การวิจัย (Research)</h3>
        <p class="mb-2">
          สรุปปัญหา: ผู้ใช้กลุ่มควบคุมระดับน้ำตาล “เข้าถึงข้อมูลโภชนาการยาก เนื้อหาเยอะ อ่านยาก และไม่รู้จะเริ่มตรงไหน”
          จึงกำหนดโจทย์ให้เน้น “ความเข้าใจเร็ว + การตัดสินใจไว” ผ่านข้อมูลที่ย่อยง่าย
        </p>
        <ul class="check">
          <li><strong>วิธีวิจัย:</strong> แบบสอบถาม, สัมภาษณ์, Desktop Research</li>
          <li><strong>อินไซต์หลัก:</strong> ต้องการเห็นคาร์บ/น้ำตาลชัด ๆ, มีตัวช่วยเลือกเมนูที่เหมาะ, ภาพ/ขั้นตอนทำอาหารแบบสั้น</li>
          <li><strong>Persona & Journey:</strong> วางเส้นทางจากการค้นหาจนถึงปรุงจริง เพื่อวัดจุดที่สับสน</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Design & Prototype -->
  <section id="design" class="container py-5">
    <div class="row g-4 align-items-center">
      <div class="col-12 col-lg-6">
        <figure class="frame">
          <img src={img.design} alt="Good Health — Design System & Prototype" loading="lazy" decoding="async" />
        </figure>
      </div>
      <div class="col-12 col-lg-6">
        <h3 class="h4 mb-2">การออกแบบ (Design & Prototype)</h3>
        <p class="mb-3">
          ใช้ระบบการ์ดและตัวหนังสือที่อ่านง่าย สีหลักธีมสุขภาพ (เขียว) และ Contrast ที่เพียงพอต่อการเข้าถึง (Accessible).
          โฟกัส 3 ฟีเจอร์ที่ช่วยตัดสินใจเร็ว:
        </p>

        <div class="feat-grid">
          <figure>
            <img src={img.feature1} alt="Cook Mode" loading="lazy" decoding="async" />
            <figcaption><strong>Cook Mode</strong> — เลือกวัตถุดิบแบบ step-by-step แล้วกด <em>Cook!</em></figcaption>
          </figure>
          <figure>
            <img src={img.feature2} alt="Diabetes Snapshot" loading="lazy" decoding="async" />
            <figcaption><strong>Diabetes Snapshot</strong> — หน้าเมนูพร้อมสรุปโภชนาการอ่านง่าย (แคลฯ/คาร์บ/น้ำตาล)</figcaption>
          </figure>
          <figure>
            <img src={img.feature3} alt="Menu Switcher" loading="lazy" decoding="async" />
            <figcaption><strong>Menu Switcher</strong> — เบราว์สรายการผลไม้พร้อม badge โภชนาการ (C/K/A)</figcaption>
          </figure>
        </div>

        <div class="mt-3 d-flex gap-2 flex-wrap">
          <a href={links.figmaDesktop} target="_blank" rel="noreferrer" class="btn-cta">ดูต้นแบบ (Desktop)</a>
          <a href={links.figmaMobile} target="_blank" rel="noreferrer" class="btn-cta">ดูต้นแบบ (Mobile)</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Tools -->
  <section id="tools" class="container py-5">
    <h3 class="h4 mb-3">เครื่องมือ & กระบวนการ</h3>
    <div class="tool-table">
      <div class="row2"><span>Design</span><span> : Figma, Illustrator</span></div>
      <div class="row2"><span>Research</span><span> : Google Forms/Sheets, วิจัยอื่นๆ</span></div>
      <div class="row2"><span>Presentation</span><span> : Canva/Illustrator</span></div>
      <div class="row2"><span>Accessibility</span><span> : สี/ตัวอักษรตามเกณฑ์ contrast, ปุ่ม/ขนาดสัมผัสเหมาะกับมือถือ</span></div>
    </div>
  </section>

  <!-- Outcome -->
  <section id="outcome" class="container py-5">
    <div class="row g-4 align-items-center">
      <div class="col-12 col-lg-6 order-lg-2">
        <div class="kpi">
          <div><strong>+80%</strong><span>ผู้ทดสอบเข้าใจ flow เลือกเมนูได้ทันที</span></div>
          <div><strong>-30%</strong><span>เวลาค้นหาข้อมูลโภชนาการ</span></div>
          <div><strong>✔</strong><span>พร้อมต่อยอดเป็นเว็บจริง (ถ้าต้องการ)</span></div>
        </div>
      </div>
      <div class="col-12 col-lg-6 order-lg-1">
        <h3 class="h4 mb-2">ผลลัพธ์ & บทเรียน (Outcome & Reflection)</h3>
        <ul class="check">
          <li>ต้นแบบช่วยให้เห็น pain point ชัด และตอบโจทย์ “ตัดสินใจเร็ว” ของกลุ่มผู้ใช้ได้ดี</li>
          <li>การออกแบบสำหรับ Health UX ต้องอิงข้อมูลวิทยาศาสตร์ + เข้าใจพฤติกรรมผู้ใช้จริง</li>
          <li>ขั้นถัดไป: ทำข้อมูลโภชนาการให้เป็นฐานข้อมูล และพัฒนาเว็บจริง (Astro/Next.js + CMS)</li>
        </ul>
        <div class="mt-3 d-flex gap-2 flex-wrap">
          <a href={links.pdf} target="_blank" rel="noreferrer" class="btn-ghost">เปิดเล่มวิจัย</a>
          <a href={links.slides} target="_blank" rel="noreferrer" class="btn-ghost">เปิดสไลด์</a>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="container py-4">
    <div class="cta">
      <a href={links.figmaDesktop} target="_blank" rel="noreferrer" class="btn-cta">ทดลองต้นแบบเดสก์ท็อป</a>
      <a href={links.figmaMobile} target="_blank" rel="noreferrer" class="btn-cta">ทดลองต้นแบบมือถือ</a>
      <a href={url("/projects")} class="btn-ghost">กลับไปหน้า Projects</a>
    </div>
  </section>

  <script>
    // Active state for sticky pills on scroll
    document.addEventListener("DOMContentLoaded", () => {
      const pills = document.querySelectorAll(".section-nav .pill");
      const secs  = ["#overview","#research","#design","#tools","#outcome"]
        .map(id => document.querySelector(id)).filter(Boolean);

      const onScroll = () => {
        const y = window.scrollY + 120;
        let idx = 0;
        secs.forEach((el, i) => { if (el.offsetTop <= y) idx = i; });
        pills.forEach(p => p.classList.remove("active"));
        if (pills[idx]) pills[idx].classList.add("active");
      };
      document.addEventListener("scroll", onScroll, { passive: true });
      onScroll();
    });
  </script>

  <style>
    /* Sticky pill nav */
    .section-nav {
      position: sticky; top: 72px; z-index: 5;
      display: flex; gap: .5rem; margin: 0 auto 1rem; padding: .35rem;
      width: min(100%, 980px); background: #f6f7f7;
      border-radius: 999px; border: 1px solid rgba(0,0,0,.06);
      box-shadow: 0 2px 8px rgba(0,0,0,.06);
    }
    .section-nav .pill {
      text-decoration: none; color: #333;
      padding: .45rem 1rem; border-radius: 999px;
      transition: background .2s ease, color .2s ease, box-shadow .2s ease;
      white-space: nowrap;
    }
    .section-nav .pill.active { background: #0f6657; color: #fff; box-shadow: 0 1px 3px rgba(0,0,0,.15); }

    /* Framed images */
    .frame { margin: 0; border-radius: 18px; overflow: hidden;
      border: 1px solid rgba(0,0,0,.12); box-shadow: 0 10px 24px rgba(0,0,0,.18);
      background: #0e0e0e;
    }
    .frame img { display:block; width:100%; height:auto; }

    /* Meta grid with clean label spacing */
    .meta { display: grid; gap: .45rem; font-size: .95rem; }
    .meta-row { display: grid; grid-template-columns: 110px 1fr; column-gap: .75rem; line-height: 1.55; }
    .meta .k { color:#666; }
    .meta .v { color:#111; }

    /* Feature grid */
    .feat-grid {
      display: grid; grid-template-columns: repeat(3, 1fr); gap: .9rem;
    }
    .feat-grid figure { margin: 0; border:1px solid rgba(0,0,0,.08); border-radius:14px; overflow:hidden; background:#fff; }
    .feat-grid img { display:block; width:100%; height:auto; }
    .feat-grid figcaption { padding:.6rem .75rem; font-size:.9rem; line-height:1.4; }

    /* KPI chips */
    .kpi { display:grid; gap:.6rem; }
    .kpi > div {
      display:grid; grid-template-columns: 88px 1fr; align-items:center;
      background:#f8f9f9; border:1px solid rgba(0,0,0,.06); border-radius:12px; padding:.6rem .8rem;
    }
    .kpi strong { font-size:1.25rem; color:#0f6657; }

    /* Buttons */
    .btn-cta, .btn-ghost {
      display:inline-block; border-radius:999px; padding:.6rem 1.2rem; font-weight:600;
      text-decoration:none; transition:transform .15s ease, box-shadow .15s ease, background .2s ease, color .2s ease;
    }
    .btn-cta { background:#0f6657; color:#fff; border:1px solid #0f6657; box-shadow:0 4px 12px rgba(0,0,0,.15); }
    .btn-cta:hover { transform: translateY(-1px); }
    .btn-ghost { background:#fff; color:#222; border:1px solid rgba(0,0,0,.12); }

    .cta { display:flex; gap:.6rem; justify-content:center; }

    /* Responsive */
    @media (max-width: 991.98px) {
      .feat-grid { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 575.98px) {
      .section-nav { top: 60px; }
      .feat-grid { grid-template-columns: 1fr; }
      .meta-row { grid-template-columns: 96px 1fr; }
    }
  </style>
</Main>
